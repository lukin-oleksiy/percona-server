#
# Implement RFC 9562 standard for UUIDs
#
# install uuidx component
INSTALL COMPONENT 'file://component_uuidx_udf';
# uuid_vx_version() with 1,3,4,5,67 versions
SELECT uuid_vx_version('{bc776b91-1e4b-11ef-bcff-0b9de0906f7d}');
uuid_vx_version('{bc776b91-1e4b-11ef-bcff-0b9de0906f7d}')
1
SELECT uuid_vx_version('{905f8aa4-56fe-33ae-b318-293311ddf8de}');
uuid_vx_version('{905f8aa4-56fe-33ae-b318-293311ddf8de}')
3
SELECT uuid_vx_version('{12e8120c-8ab6-4898-8570-32ac169acbf6}');
uuid_vx_version('{12e8120c-8ab6-4898-8570-32ac169acbf6}')
4
SELECT uuid_vx_version('{0168c796-9e87-5d37-a2f6-eecabc720807}');
uuid_vx_version('{0168c796-9e87-5d37-a2f6-eecabc720807}')
5
SELECT uuid_vx_version('{1ef1e4c5-b360-65b1-bac4-b3a602cb9872}');
uuid_vx_version('{1ef1e4c5-b360-65b1-bac4-b3a602cb9872}')
6
SELECT uuid_vx_version('{018fc826-55ad-70f3-8019-2c429b48cf34}');
uuid_vx_version('{018fc826-55ad-70f3-8019-2c429b48cf34}')
7
#uuid_vx_version() with NULL arg
SELECT uuid_vx_version(NULL);
uuid_vx_version(NULL)
NULL
# uuid_vx_variant()
SELECT uuid_vx_variant('{018fc826-55ad-70f3-8019-2c429b48cf34}');
uuid_vx_variant('{018fc826-55ad-70f3-8019-2c429b48cf34}')
1
#uuid_vx_variant() with NULL arg
SELECT uuid_vx_variant(NULL);
uuid_vx_variant(NULL)
NULL
# is_uuid_vx() with right uuid
SELECT is_uuid_vx('{12345678-1234-5678-1234-567812345678}');
is_uuid_vx('{12345678-1234-5678-1234-567812345678}')
1
# is_uuid_vx() with NULL uuid
SELECT is_uuid_vx(NULL);
is_uuid_vx(NULL)
NULL
# is_nil_uuid_vx() with good not-nil uuid
SELECT is_nil_uuid_vx('{12345678-1234-5678-1234-567812345678}');
is_nil_uuid_vx('{12345678-1234-5678-1234-567812345678}')
0
# is_nil_uuid_vx() with nil uuid
SELECT is_nil_uuid_vx('{00000000-0000-0000-0000-000000000000}');
is_nil_uuid_vx('{00000000-0000-0000-0000-000000000000}')
1
# is_nil_uuid_vx() with NULL uuid
SELECT is_nil_uuid_vx(NULL);
is_nil_uuid_vx(NULL)
NULL
# uninstall uuidx component
UNINSTALL COMPONENT 'file://component_uuidx_udf';
#
# end of test
#
