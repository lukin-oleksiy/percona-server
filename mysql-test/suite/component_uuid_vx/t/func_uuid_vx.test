#####################################################################
#                                                                   #
# Tests for uuidx family of functions.                              #
#                                                                   #
#####################################################################
--echo #
--echo # Implement RFC 9562 standard for UUIDs
--echo #

--echo # install uuidx component
INSTALL COMPONENT 'file://component_uuid_vx_udf';

--echo # uuid_vx_version() with 1,3,4,5,67 versions
SELECT uuid_vx_version('{bc776b91-1e4b-11ef-bcff-0b9de0906f7d}');
SELECT uuid_vx_version('{905f8aa4-56fe-33ae-b318-293311ddf8de}');
SELECT uuid_vx_version('{12e8120c-8ab6-4898-8570-32ac169acbf6}');
SELECT uuid_vx_version('{0168c796-9e87-5d37-a2f6-eecabc720807}');
SELECT uuid_vx_version('{1ef1e4c5-b360-65b1-bac4-b3a602cb9872}');
SELECT uuid_vx_version('{018fc826-55ad-70f3-8019-2c429b48cf34}');

#--echo #uuid_vx_version() with NULL arg
#SELECT uuid_vx_version(NULL);
# --echo #uuid_vx_version() with '' arg
# SELECT uuid_vx_version('');
# --echo #uuid_vx_version() with bad arg
# SELECT uuid_vx_version('12354xy');

#--echo # uuid_vx_variant()
#SELECT uuid_vx_variant('{018fc826-55ad-70f3-8019-2c429b48cf34}');
#--echo #uuid_vx_variant() with NULL arg
#SELECT uuid_vx_variant(NULL);
#--echo #uuid_vx_variant() with '' arg
#--error 
#SELECT uuid_vx_variant('');
#--error 
#--echo #uuid_vx_variant() with bad arg
#SELECT uuid_vx_variant('12354xy');

#--echo # is_uuid_vx() with right uuid
#SELECT is_uuid_vx('{12345678-1234-5678-1234-567812345678}');
# --echo # is_uuid_vx() with bad uuid
# SELECT is_uuid_vx('{12345xyz-1234-5678-1234-567812345678}');
#--echo # is_uuid_vx() with NULL uuid
#SELECT is_uuid_vx(NULL);
#--echo # is_uuid_vx() with empty string
#SELECT is_uuid_vx('');


#--echo # is_nil_uuid_vx() with good not-nil uuid
#SELECT is_nil_uuid_vx('{12345678-1234-5678-1234-567812345678}');
#--echo # is_nil_uuid_vx() with nil uuid
#SELECT is_nil_uuid_vx('{00000000-0000-0000-0000-000000000000}');
#--echo # is_nil_uuid_vx() with NULL uuid
#SELECT is_nil_uuid_vx(NULL);
# --echo # is_nil_uuid_vx() with empty string
# SELECT is_nil_uuid_vx('');

# --echo # is_max_uuid_vx() with good not-nil uuid
# SELECT is_max_uuid_vx('{12345678-1234-5678-1234-567812345678}');
# --echo # is_max_uuid_vx() with max uuid
# SELECT is_maz_uuid_vx('{FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF}');
# --echo # is_max_uuid_vx() with NULL uuid
# SELECT is_max_uuidx(NULL);
# --echo # is_nil_uuid_vx() with empty string
# SELECT is_nil_uuid_vx('');

--echo # uninstall uuidx component
UNINSTALL COMPONENT 'file://component_uuid_vx_udf';

--echo #
--echo # end of test
--echo #

